<!--
 	1. samples/numberofthreads=blocks*steps*stepsbetweensamples 
	* QMC Traning Best Practice: 
	  a. Use steps=stepsbetweensamples=1, adjust substep to decorrelate.
	  b. samples=blocks*N_threads  

	2. small timestep helps for some reason (hypothesis: it improves the accuracy of VMC energy but not the quality of the wave function - test: add a trailing VMC block) 
-->

<loop max="5">
 <qmc method="linear" move="pbyp" checkpoint="-1" gpu="no">
    <parameter name="samples">                  2400000 </parameter>
    <parameter name="substeps">                 10      </parameter>

    <parameter name="blocks">                   1000    </parameter>
    <parameter name="steps">                    100     </parameter>
    <parameter name="warmupsteps">              100     </parameter>
    <parameter name="timestep">                 0.1     </parameter>
    <cost name="energy">                        0.5 </cost>
    <cost name="unreweightedvariance">          0.0 </cost>
    <cost name="reweightedvariance">            0.5 </cost>
    <parameter name="useDrift">  yes </parameter>
    <parameter name="bigchange">10.0</parameter>
    <estimator name="LocalEnergy" hdf5="no"/>
    <parameter name="usebuffer"> yes </parameter>
    <parameter name="nonlocalpp"> yes </parameter>
    <parameter name="MinMethod">quartic</parameter>
    <parameter name="exp0">-6</parameter>
    <parameter name="alloweddifference"> 1.0e-5 </parameter>
    <parameter name="stepsize">  0.15 </parameter>
    <parameter name="nstabilizers"> 1 </parameter>
  </qmc>
</loop>
