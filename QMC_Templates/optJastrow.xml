<!--
 	1. samples/numberofthreads=samplesperthread=blocks*steps*stepsbetweensamples 
		==> specifying samples, blocks and stepsbetweensamples will let QMCPACK decide "steps" depending on the numberofthreads
	2. substep helps for some reason (hypothesis: it helps decorrelate the samples - test: use big stepsbetweensamples)
	3. small timestep helps for some reason (hypothesis: it improves the accuracy of energy but not the quality of the wave function - test: add a trailing VMC block) 
-->

<loop max="3">
  <qmc method="linear" move="pbyp" checkpoint="-1" gpu="no">
    <parameter name="blocks">     		100	</parameter>
    <parameter name="steps">                    100	</parameter>
    <parameter name="warmupsteps"> 		100	</parameter>
    <parameter name="substeps"> 		20	</parameter>
    <parameter name="timestep"> 		0.1	</parameter>
    <parameter name="samples"> 			24000	</parameter>
    <parameter name="stepsbetweensamples"> 	20	</parameter>
    <cost name="energy">                   	0.5 </cost>
    <cost name="unreweightedvariance">     	0.0 </cost>
    <cost name="reweightedvariance">       	0.5 </cost>
    <parameter name="useDrift">  yes </parameter>
    <parameter name="bigchange">10.0</parameter>
    <estimator name="LocalEnergy" hdf5="no"/>
    <parameter name="usebuffer"> yes </parameter>
    <parameter name="nonlocalpp"> yes </parameter>
    <parameter name="MinMethod">quartic</parameter>
    <parameter name="exp0">-6</parameter>
    <parameter name="alloweddifference"> 1.0e-5 </parameter>
    <parameter name="stepsize">  0.15 </parameter>
    <parameter name="nstabilizers"> 1 </parameter>
  </qmc>
</loop>

<loop max="3">
  <qmc method="linear" move="pbyp" checkpoint="-1" gpu="no">
    <parameter name="blocks">     		100	</parameter>
    <parameter name="steps">                    100	</parameter>
    <parameter name="warmupsteps"> 		100	</parameter>
    <parameter name="substeps"> 		20	</parameter>
    <parameter name="timestep"> 		0.1	</parameter>
    <parameter name="samples"> 			24000	</parameter>
    <parameter name="stepsbetweensamples"> 	20	</parameter>
    <cost name="energy">                   	0.95 </cost>
    <cost name="unreweightedvariance">     	0.0 </cost>
    <cost name="reweightedvariance">       	0.05 </cost>
    <parameter name="useDrift">  yes </parameter>
    <parameter name="bigchange">10.0</parameter>
    <estimator name="LocalEnergy" hdf5="no"/>
    <parameter name="usebuffer"> yes </parameter>
    <parameter name="nonlocalpp"> yes </parameter>
    <parameter name="MinMethod">quartic</parameter>
    <parameter name="exp0">-6</parameter>
    <parameter name="alloweddifference"> 1.0e-5 </parameter>
    <parameter name="stepsize">  0.15 </parameter>
    <parameter name="nstabilizers"> 1 </parameter>
  </qmc>
</loop>

  <qmc method="vmc" move="pbyp" checkpoint="-1">
    <parameter name="blocks">                   100     </parameter>
    <parameter name="steps">                    100     </parameter>
    <parameter name="warmupsteps">              100     </parameter>
    <parameter name="substeps">                 20      </parameter>
    <parameter name="timestep">                 0.1     </parameter>
    <parameter name="useDrift">  yes </parameter>
  </qmc>

